"use strict";(self.webpackChunksolve_card=self.webpackChunksolve_card||[]).push([[816],{9816:(e,t,l)=>{l.d(t,{LM:()=>D,a2:()=>P,IM:()=>E});var s=l(5043),r=l(5051),o=l(3825),a=l(3003),i=l(1268),n=l(579);const d=()=>{const e=(0,a.wA)(),t=t=>{e((0,i.kx)(t))};return(0,n.jsx)("nav",{className:"h-full w-full lg:w-1/5 flex justify-center px-2 overflow-y-auto rounded-xl bg-white",id:"profileNav",children:(0,n.jsx)("div",{className:"flex flex-col gap-8 items-start py-6 w-full",children:(0,n.jsxs)("div",{className:"flex flex-col w-full gap-2",children:[(0,n.jsx)("h3",{className:"pl-3 font-inter font-semibold text-xl text-gray-600 uppercase",children:"Content"}),(0,n.jsxs)("div",{className:"flex gap-2 items-center p-2 rounded hover:bg-gray-200 cursor-pointer transition duration-300 group",onClick:()=>t("about"),children:[(0,n.jsx)(r.G3M,{className:"text-lg text-black group-hover:text-black transition duration-300"}),(0,n.jsx)("p",{className:"font-inter font-medium text-sm text-gray-700 group-hover:text-black transition duration-300",children:"About"})]}),(0,n.jsxs)("div",{className:"flex gap-2 items-center p-2 rounded hover:bg-gray-200 cursor-pointer transition duration-300 group",onClick:()=>t("links"),children:[(0,n.jsx)(o.bss,{className:"text-lg text-black group-hover:text-black transition duration-300"}),(0,n.jsx)("p",{className:"font-inter font-medium text-sm text-gray-700 group-hover:text-black transition duration-300",children:"Links"})]})]})})})};var c=l(4219),u=l(4858),m=l(2021),x=l(5394),h=l(6720),f=l(4920),p=l(3216),v=l(1641),g=l(3401),b=(l(2342),l(5313)),j=l(5288),y=l(3471);const w=()=>{const{id:e}=(0,p.g)(),t=(0,a.wA)(),{register:l}=(0,u.mN)(),r=(0,a.d4)((e=>e.profile.profileData)),o=(0,s.useRef)(null),d=(0,s.useRef)(null),[y,w]=(0,s.useState)(""),[N,k]=(0,s.useState)(""),[_,C]=(0,s.useState)([]),[A,S]=(0,s.useState)([]),[z,L]=(0,s.useState)(!1),[M,F]=(0,s.useState)({photo:"",cover_photo:""}),[U,$]=(0,s.useState)({photo:"",cover_photo:""}),[B,E]=(0,s.useState)({card_title:"",name:"",company:"",job_title:"",address:"",bio:"",photo:"",cover_photo:"",work_position:"",user_direct:0,private:0});(0,s.useEffect)((()=>{var e;r&&(E((e=>({...e,...r}))),console.log("userData",r.photo,r.cover_photo),F({photo:r.photo||"",cover_photo:r.cover_photo||""}),w(r.background_color_code),t((0,i.JP)(r.background_color_code)),t((0,i.vY)(null!==(e=r.button_color_code)&&void 0!==e?e:"#000000")),k(r.button_color_code))}),[r,t]),(0,s.useEffect)((()=>{t((0,i.J6)(B))}),[B,t]),(0,s.useEffect)((()=>{(async()=>{try{const e=await f.A.get("/backgroundColors");C(e.data.Backgrounds)}catch(e){console.error("Error fetching background colors:",e)}})(),(async()=>{try{const e=await f.A.get("/buttonColors");S(e.data.buttonColors)}catch(e){console.error("Error fetching button colors:",e)}})()}),[]);const P=async(e,t)=>{const l=e.target.files[0];if(!l||l.size>6291456)g.oR.error(`${t} picture size must be less than 6MB.`);else try{const e=await(0,v.A)(l,{maxSizeMB:4,useWebWorker:!0}),s=new FileReader;s.onloadend=()=>{$((e=>({...e,[t]:(0,b.i)(s.result)}))),E((e=>({...e,[t]:s.result})))},s.readAsDataURL(e)}catch(s){console.error(`Error compressing ${t} image:`,s)}},R=e=>{E((t=>({...t,[e.target.name]:e.target.value})))},D=e=>{E((t=>({...t,[e.target.name]:Number(e.target.checked)})))},I=e=>{E((t=>({...t,[e]:""}))),F((t=>({...t,[e]:""})))};return(0,n.jsx)("div",{className:"w-full h-full lg:p-4 py-8 px-6 rounded-lg bg-white overflow-hidden",children:(0,n.jsxs)("form",{onSubmit:async l=>{l.preventDefault(),L(!0);const s=["card_title","name","company","job_title","address","bio","work_position"];for(const e of s)if(!B[e])return g.oR.error(`Please enter your ${e.replace("_"," ")}`),void L(!1);let o={...B,profile_id:e,branding_color:"#d5d5d5",cover_photo:U.cover_photo||void 0,photo:U.photo||void 0};const a=_.find((e=>e.id===y||e.color_code===y));let n=A.find((e=>e.id===N||e.color_code===N));n||(k(A[0].id),n=A[0]),w(a.id),k(n.id),console.log("direct",r.user_direct,B.user_direct,o);try{const l=await f.A.post("/updateProfile",o);200===l.status&&(await f.A.post("/updateBackgroundColor",{profile_id:e,bg_color_id:a.id}),await f.A.post("/updateButtonColor",{profile_id:e,btn_color_id:n.id}),g.oR.success(l.data.message),t((0,i.cp)({...B,cover_photo:M.cover_photo,photo:M.photo,background_color_code:a.color_code,button_color_code:n.color_code})),console.log("final",l.data))}catch(u){var d,c;g.oR.error((null===(d=u.response)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.message)||"Error updating profile")}finally{L(!1)}},className:"relative w-full h-full bg-white",id:"profileEdit",encType:"multipart/form-data",children:[(0,n.jsx)("div",{className:"sticky top-0 bg-white pb-4 z-10",children:(0,n.jsx)("h1",{className:"font-inter font-bold text-xl",children:"About"})}),(0,n.jsx)("div",{className:"h-[calc(100%-7rem)] overflow-y-auto",children:(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 w-full pr-2",children:[(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("label",{htmlFor:"card-title",className:"block mb-2 text-sm font-medium text-gray-900",children:"Card Title"}),(0,n.jsx)(c.pd,{type:"text",name:"card_title",intent:"primary",id:"card-title",size:"md",value:null===B||void 0===B?void 0:B.card_title,classes:"w-full block p-2.5",roundness:"round-sm",placeholder:"Card Title",custom:"custom",eventAction:R})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("label",{htmlFor:"work_position",className:"block mb-2 text-sm font-inter font-medium text-gray-900",children:"Card Layout"}),(0,n.jsxs)("select",{onChange:R,name:"work_position",value:null===B||void 0===B?void 0:B.work_position,className:"w-full block px-2.5 py-3.5 font-inter outline-none bg-primary placeholder:text-sm placeholder:font-normal rounded-md",children:[(0,n.jsx)("option",{value:"left",children:"Left"}),(0,n.jsx)("option",{value:"center",children:"Center"}),(0,n.jsx)("option",{value:"right",children:"Right"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-4 items-center",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("p",{className:"font-inter text-sm font-medium text-gray-900",children:"Profile Picture"}),(0,n.jsx)(x.tEG,{className:"text-xl text-gray-500",title:"Maximum size: 2MB"})]}),(null===r||void 0===r?void 0:r.photo)&&(null===M||void 0===M?void 0:M.photo)&&(0,n.jsxs)("div",{className:"h-full w-full  relative",children:[(0,n.jsx)("img",{src:`https://solvecard.net/public/storage/${M.photo}`,className:"rounded-full h-full aspect-square w-2/5 mx-auto object-cover",alt:"profile_pic"}),(0,n.jsx)(h.uDv,{className:"absolute size-5 -top-2 right-1/2 -translate-x-1/2 text-red-500 bg-white rounded-full cursor-pointer",onClick:()=>I("photo")})]}),B.photo&&!(null!==M&&void 0!==M&&M.photo)&&(0,n.jsxs)("div",{className:"w-full h-full relative",children:[(0,n.jsx)("img",{src:B.photo,className:"rounded-full h-full aspect-square mx-auto object-cover",alt:""}),(0,n.jsx)(h.uDv,{className:"absolute size-5 -top-2 right-1/2 -translate-x-1/2 text-red-500 bg-white rounded-full cursor-pointer",onClick:()=>I("photo")})]}),!M.photo&&!B.photo&&(0,n.jsx)("div",{onClick:()=>o.current.click(),className:"flex justify-center items-center rounded-full w-28 h-28 border border-dashed border-gray-400 bg-white hover:bg-gray-100 transition-all cursor-pointer",children:(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1",children:[(0,n.jsx)(m.GpL,{className:"text-4xl text-gray-500"}),(0,n.jsx)("p",{className:"font-inter text-xs text-gray-500 text-center",children:"Select or drag file"})]})}),(0,n.jsx)("input",{type:"file",ref:o,accept:".jpg, .png, .jpeg",className:"hidden",onChange:e=>P(e,"photo")})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-4 items-center",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("p",{className:"font-inter text-sm font-medium text-gray-900",children:"Cover Photo"}),(0,n.jsx)(x.tEG,{className:"text-xl text-gray-500",title:"Maximum size: 5MB"})]}),(null===r||void 0===r?void 0:r.cover_photo)&&(null===M||void 0===M?void 0:M.cover_photo)&&(0,n.jsxs)("div",{className:"h-full w-full relative",children:[(0,n.jsx)("img",{src:`https://solvecard.net/public/storage/${null===M||void 0===M?void 0:M.cover_photo}`,className:"max-h-24 w-full rounded-lg object-cover",alt:"cover_pic"}),(0,n.jsx)(h.uDv,{className:"absolute top-0 right-0 text-red-500 bg-white rounded-full cursor-pointer",onClick:()=>I("cover_photo")})]}),(null===B||void 0===B?void 0:B.cover_photo)&&!(null!==M&&void 0!==M&&M.cover_photo)&&(0,n.jsxs)("div",{className:"h-full w-full relative",children:[(0,n.jsx)("img",{src:null===B||void 0===B?void 0:B.cover_photo,className:"max-h-24 w-full rounded-lg object-cover",alt:"cover_pic"}),(0,n.jsx)(h.uDv,{className:"absolute top-0 right-0 text-red-500 bg-white rounded-full cursor-pointer",onClick:()=>I("cover_photo")})]}),!M.cover_photo&&!B.cover_photo&&(0,n.jsx)("div",{onClick:()=>d.current.click(),className:"flex items-center justify-center rounded-lg h-28 w-full border border-dashed border-gray-400 bg-white hover:bg-gray-100 transition-all cursor-pointer",children:(0,n.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,n.jsx)(h.lQv,{className:"text-3xl text-gray-500"}),(0,n.jsx)("p",{className:"font-inter text-xs text-gray-500 text-center",children:"Select image, gif, video, or drag & drop"})]})}),(0,n.jsx)("input",{type:"file",accept:".jpg, .png, .jpeg",ref:d,className:"hidden",onChange:e=>P(e,"cover_photo")})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("label",{htmlFor:"first-name",className:"block mb-2 text-sm font-medium text-gray-900",children:"Name"}),(0,n.jsx)(c.pd,{type:"text",name:"name",intent:"primary",id:"first-name",size:"md",value:null===B||void 0===B?void 0:B.name,classes:"w-full block p-2.5 ",roundness:"round-sm",placeholder:"first name",custom:"custom",eventAction:R})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("label",{htmlFor:"company",className:"block mb-2 text-sm font-inter font-medium text-gray-900",children:"Company"}),(0,n.jsx)(c.pd,{type:"text",name:"company",intent:"primary",id:"company",size:"md",value:B.company,classes:"w-full block p-2.5 ",roundness:"round-sm",placeholder:"company",custom:"custom",eventAction:R})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("label",{htmlFor:"job_title",className:"block mb-2 text-sm font-medium text-gray-900",children:"Job Title"}),(0,n.jsx)(c.pd,{type:"text",name:"job_title",intent:"primary",id:"job_title",size:"md",classes:"w-full block p-2.5 ",roundness:"round-sm",placeholder:"Job Title",custom:"custom",value:B.job_title,eventAction:R})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("label",{htmlFor:"address",className:"block mb-2 text-sm font-inter font-medium text-gray-900",children:"Address"}),(0,n.jsx)(c.fs,{rows:"2",intent:"primary",classes:"w-full !rounded-md p-2",name:"address",placeholder:"Address",value:null===B||void 0===B?void 0:B.address,eventAction:R})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[(0,n.jsx)("label",{htmlFor:"bio",className:"block text-sm font-inter font-medium text-gray-900",children:"Bio"}),(0,n.jsx)(c.fs,{rows:"2",intent:"primary",placeholder:"Bio",classes:"w-full !rounded-md p-2",name:"bio",value:null===B||void 0===B?void 0:B.bio,eventAction:R})]}),(0,n.jsxs)("div",{className:"lg:col-span-2 flex flex-col gap-2 w-full",children:[(0,n.jsx)("label",{htmlFor:"last-name",className:"block mb-2 text-sm font-inter font-medium text-gray-900 ",children:"Choose Theme:"}),(0,n.jsx)("div",{className:"w-full bg-primary min-h-16 rounded-lg py-2 px-3",children:(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsxs)("div",{className:"w-full rounded-lg flex lg:flex-row md:flex-row flex-col lg:gap-0 md:gap-0 gap-3 items-center justify-between bg-white border border-primary p-4",children:[(0,n.jsx)("label",{htmlFor:"",className:"block text-sm font-inter font-medium text-gray-900 ",children:"Profile/Card Theme"}),(0,n.jsx)("div",{className:"flex items-center justify-end flex-grow gap-2",children:null===_||void 0===_?void 0:_.map((e=>(0,n.jsx)("div",{className:"rounded-full w-6 h-6 cursor-pointer border",style:{backgroundColor:e.color_code},onClick:()=>((e,l)=>{w(e),t((0,i.JP)(l))})(e.id,e.color_code)},e.id)))})]}),(0,n.jsx)("div",{className:"w-full rounded-lg flex flex-col gap-2 bg-white border border-primary p-4",children:(0,n.jsxs)("div",{className:"pb-4 flex items-center justify-between",children:[(0,n.jsx)("label",{htmlFor:"",className:"block text-sm font-inter font-medium text-gray-900 ",children:"Link Color"}),(0,n.jsx)("div",{className:"flex items-center justify-end flex-grow gap-2",children:null===A||void 0===A?void 0:A.map((e=>(0,n.jsx)("div",{className:"rounded-full w-6 h-6 cursor-pointer border",style:{backgroundColor:e.color_code},onClick:()=>((e,l)=>{k(e),t((0,i.vY)(l))})(e.id,e.color_code)},e.id)))})]})})]})})]}),(0,n.jsx)("div",{className:"w-full bg-primary rounded-lg p-2",children:(0,n.jsxs)("div",{className:"bg-white p-1.5 rounded-lg flex items-center justify-between",children:[(0,n.jsx)("label",{htmlFor:"last-name",className:"block  text-sm font-inter font-medium text-gray-900",children:"Card Private"}),(0,n.jsx)("div",{children:(0,n.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,n.jsx)("input",{type:"checkbox",name:"private",value:B.private,checked:B.private,className:"sr-only peer",onChange:D}),(0,n.jsx)("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-white  rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black"})]})})]})}),(0,n.jsx)("div",{className:"w-full bg-primary rounded-lg p-2",children:(0,n.jsxs)("div",{className:"bg-white p-1.5 rounded-lg flex items-center justify-between",children:[(0,n.jsx)("label",{htmlFor:"last-name",className:"block  text-sm font-inter font-medium text-gray-900",children:"User Direct"}),(0,n.jsx)("div",{children:(0,n.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,n.jsx)("input",{type:"checkbox",name:"user_direct",value:B.user_direct,checked:B.user_direct,className:"sr-only peer",onChange:D}),(0,n.jsx)("div",{className:"relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-white  rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-black"})]})})]})})]})}),(0,n.jsxs)("div",{className:"sticky bottom-0 left-0 right-0 pt-4 w-full bg-white flex justify-end items-center gap-4",children:[(0,n.jsx)(c.$n,{intent:"primary",children:"Update",size:"lg",loading:z,roundness:"round",classes:"!bg-black !text-white"}),(0,n.jsx)(j.A,{intent:"secondary",size:"lg",content:"Cancel",classes:"gap-2 !py-3 !px-6",href:"/dashboard"})]})]})})};var N=l(5200),k=l(7950),_=l(184);const C=e=>{let{closeModal:t,openLinkInfoModal:l}=e;const s=[{icon:(0,n.jsx)(_.QEs,{className:"text-2xl text-gray-600"}),name:"LinkedIn"},{icon:(0,n.jsx)(_.ao$,{className:"text-2xl text-gray-600"}),name:"Instagram"},{icon:(0,n.jsx)(_.iYk,{className:"text-2xl text-gray-600"}),name:"Facebook"},{icon:(0,n.jsx)(o.InQ,{className:"text-2xl text-gray-600"}),name:"Website"},{icon:(0,n.jsx)(o.MH0,{className:"text-2xl text-gray-600"}),name:"Email"},{icon:(0,n.jsx)(o.h2F,{className:"text-2xl text-gray-600"}),name:"Phone"}];return k.createPortal((0,n.jsx)("div",{id:"authentication-modal",tabIndex:"-1","aria-hidden":"false",className:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 flex justify-center items-center w-full h-full bg-black bg-opacity-50",children:(0,n.jsx)("div",{className:"relative p-4 w-full max-w-lg max-h-full",children:(0,n.jsxs)("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add Links"}),(0,n.jsxs)("button",{type:"button",onClick:t,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",children:[(0,n.jsx)("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),(0,n.jsx)("span",{className:"sr-only",children:"Close modal"})]})]}),(0,n.jsx)("div",{className:"p-4 md:p-5",children:(0,n.jsx)("div",{className:"flex flex-col gap-4 w-full",children:s.map(((e,t)=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white hover:bg-gray-100 cursor-pointer rounded-lg border border-gray-300",onClick:l,children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[e.icon,(0,n.jsx)("p",{className:"text-base font-inter font-medium text-gray-900",children:e.name})]}),(0,n.jsx)(N.GGD,{className:"text-xl text-gray-600"})]},t)))})})]})})}),document.body)},A=e=>{let{closeModal:t,selectedLink:l}=e;const[r,o]=(0,s.useState)({linkTitle:(null===l||void 0===l?void 0:l.name)||"",linkURL:""});return k.createPortal((0,n.jsx)("div",{id:"authentication-modal",tabIndex:"-1","aria-hidden":"false",className:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 flex justify-center items-center w-full h-full bg-black bg-opacity-50",children:(0,n.jsx)("div",{className:"relative p-4 w-full max-w-lg max-h-full",children:(0,n.jsxs)("div",{className:"relative bg-white rounded-lg shadow dark:bg-gray-700",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add Link Information"}),(0,n.jsxs)("button",{type:"button",onClick:t,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white",children:[(0,n.jsx)("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),(0,n.jsx)("span",{className:"sr-only",children:"Close modal"})]})]}),(0,n.jsx)("div",{className:"p-4 md:p-5",children:(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault()},className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[null===l||void 0===l?void 0:l.icon,(0,n.jsx)("h4",{className:"text-lg font-inter font-medium text-gray-900",children:null===l||void 0===l?void 0:l.name})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("label",{htmlFor:"link-title",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Link Title"}),(0,n.jsx)(c.pd,{type:"text",nameField:"linkTitle",intent:"primary",id:"link-title",size:"md",classes:"w-full block p-2.5 ",roundness:"round-sm",custom:"custom"})]}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("label",{htmlFor:"link-url",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Link URL"}),(0,n.jsx)(c.pd,{type:"url",nameField:"linkURL",intent:"primary",id:"link-url",size:"md",classes:"w-full block p-2.5 ",roundness:"round-sm",custom:"custom",placeholder:"https://example.com"})]}),(0,n.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,n.jsx)(c.$n,{intent:"secondary",children:"Cancel",size:"md",roundness:"round",classes:"",onClick:t}),(0,n.jsx)(c.$n,{intent:"primary",children:"Add",size:"lg",roundness:"round",classes:"!bg-blue-500 !text-white",type:"submit"})]})]})})]})})}),document.body)},S=e=>{let{closeModal:t,data:l,id:r,handleUpdate:o}=e;const[d,u]=(0,s.useState)(""),[m,x]=(0,s.useState)(""),h=(0,a.wA)();(0,s.useEffect)((()=>{null!==l&&void 0!==l&&l.baseUrl&&u(null===l||void 0===l?void 0:l.baseUrl),null!==l&&void 0!==l&&l.path&&u((null===l||void 0===l?void 0:l.baseUrl)+(null===l||void 0===l?void 0:l.path))}),[null===l||void 0===l?void 0:l.baseUrl,null===l||void 0===l?void 0:l.path]);return k.createPortal((0,n.jsx)("div",{id:"authentication-modal",tabIndex:"-1","aria-hidden":"false",className:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 flex justify-center items-center w-full h-full bg-black bg-opacity-50",children:(0,n.jsx)("div",{className:"relative p-4 w-full max-w-[320px] max-h-full",children:(0,n.jsxs)("div",{className:"relative bg-white rounded-lg shadow ",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-900",children:"Add Link"}),(0,n.jsxs)("button",{type:"button",onClick:t,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center dark:hover:bg-gray-900 dark:hover:text-white",children:[(0,n.jsx)("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:(0,n.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),(0,n.jsx)("span",{className:"sr-only",children:"Close modal"})]})]}),(0,n.jsx)("div",{className:"p-4 md:p-5",children:(0,n.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await f.A.post("/addPlatform",{platform_id:null===l||void 0===l?void 0:l.id,path:m.replace(null===l||void 0===l?void 0:l.baseUrl,""),profile_id:r});200===e.status&&(h((0,i.ib)({id:null===l||void 0===l?void 0:l.id,icon:null===l||void 0===l?void 0:l.img,path:m.replace(null===l||void 0===l?void 0:l.baseUrl,"")})),g.oR.success(e.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),o(),t())}catch(s){g.oR.error(s.response.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}},className:"space-y-4 text-center w-full",children:[(0,n.jsx)("div",{className:"flex justify-center items-center size-10 rounded-full bg-tertiary-green-30 mx-auto",children:(0,n.jsx)("img",{src:`https://solvecard.net/public/storage/${l.img}`,className:"size-6",alt:""})}),(0,n.jsxs)("h1",{className:"text-black dark:text-black",children:["Add ",l.title," Link"]}),(0,n.jsx)("div",{children:(0,n.jsx)(c.pd,{intent:"primary",size:"lg",roundness:"round-md",label:"Link Title",placeholder:null!==l&&void 0!==l&&l.baseUrl?null===l||void 0===l?void 0:l.baseUrl:"Enter your base",custom:"custom",classes:"w-full",name:"link",value:d,eventAction:e=>{const t=e.target.value;u(t);const l=(e=>{const t=e.lastIndexOf("/");return e.substring(t+1)})(t);x(l)}})}),(0,n.jsx)(c.$n,{intent:"primary",size:"lg",roundness:"round",children:"Add",classes:"!w-1/2 !p-2 !mx-auto"})]})})]})})}),document.body)},z=()=>{const{id:e}=(0,p.g)(),[t,l]=(0,s.useState)(!1),[r,o]=(0,s.useState)(!1),[i,d]=(0,s.useState)(!1),[c,u]=(0,s.useState)({id:"",title:"",img:"",baseUrl:""}),[m,x]=(0,s.useState)([]),[h,v]=(0,s.useState)(!0),[b,j]=(0,s.useState)(!0),y=(0,a.d4)((e=>null===e||void 0===e?void 0:e.auth));async function w(){try{const t=await f.A.post("/categories",{profile_id:e}),{categories:l}=t.data;x(l),v(!1)}catch(t){v(!0),g.oR.error(t.response.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}}(0,s.useEffect)((()=>{w()}),[b]);const k=(e,t,l,s,r)=>{d(!0),u((o=>({...o,id:e,title:t,img:l,baseUrl:s,path:r})))};return(0,n.jsx)("section",{className:"h-full flex justify-center grow bg-primary border-r-2 border-r-white",children:(0,n.jsxs)("div",{className:"flex flex-col w-full p-8 bg-white rounded-lg",children:[(0,n.jsx)("header",{className:"text-start w-full z-40 flex justify-between items-center mb-8",children:(0,n.jsx)("h1",{className:"font-inter font-bold text-2xl",children:"Links"})}),t&&(0,n.jsx)(C,{close:()=>{l(!1)},openLinkInfoModal:()=>{o(!0)}}),r&&(0,n.jsx)(A,{closeModal:()=>{o(!1)}}),i&&(0,n.jsx)(S,{closeModal:async()=>{d(!1),v(!0),await w()},data:c,id:e,handleUpdate:()=>{j((e=>({...e,update:!b})))}}),(0,n.jsx)("div",{className:"lg:h-[520px] md:h-[420px] h-[320px] overflow-y-auto flex flex-col gap-4 w-full",id:"linksSection",children:(0,n.jsx)("div",{className:"flex flex-col gap-4 w-full",children:h?(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h2",{className:"text-lg font-inter font-medium text-gray-900 animate-pulse",children:"Loading..."}),(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-100 hover:bg-gray-200 cursor-pointer rounded-lg",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"bg-gray-300 w-10 h-10 rounded-full animate-pulse"}),(0,n.jsx)("p",{className:"text-base font-inter font-medium text-gray-900 animate-pulse",children:"Loading link name..."})]}),(0,n.jsx)("div",{className:"bg-gray-300 w-6 h-6 rounded-full animate-pulse"})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-100 hover:bg-gray-200 cursor-pointer rounded-lg",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:"bg-gray-300 w-10 h-10 rounded-full animate-pulse"}),(0,n.jsx)("p",{className:"text-base font-inter font-medium text-gray-900 animate-pulse",children:"Loading link name..."})]}),(0,n.jsx)("div",{className:"bg-gray-300 w-6 h-6 rounded-full animate-pulse"})]})]}):(0,n.jsx)(n.Fragment,{children:null===m||void 0===m?void 0:m.map((e=>{var t;return(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("h2",{className:"text-lg font-inter font-medium text-gray-900",children:null===e||void 0===e?void 0:e.name}),null===e||void 0===e||null===(t=e.platforms)||void 0===t?void 0:t.filter((e=>parseInt(null===e||void 0===e?void 0:e.pro)===y.user.is_pro)).map((e=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-100 hover:bg-gray-200 cursor-pointer rounded-lg",children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("img",{src:`https://solvecard.net/public/storage/${null===e||void 0===e?void 0:e.icon}`,className:"size-5 text-center",alt:null===e||void 0===e?void 0:e.title[0]}),(0,n.jsx)("p",{className:"text-base font-inter font-medium text-gray-900",children:null===e||void 0===e?void 0:e.title})]}),null!==e&&void 0!==e&&e.path?(0,n.jsx)(N.SG1,{className:"text-xl text-gray-600",onClick:()=>k(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.title,null===e||void 0===e?void 0:e.icon,null===e||void 0===e?void 0:e.baseURL,null===e||void 0===e?void 0:e.path)}):(0,n.jsx)(N.GGD,{className:"text-xl text-gray-600",onClick:()=>k(null===e||void 0===e?void 0:e.id,null===e||void 0===e?void 0:e.title,null===e||void 0===e?void 0:e.icon,null===e||void 0===e?void 0:e.baseURL)})]},null===e||void 0===e?void 0:e.id)))]},null===e||void 0===e?void 0:e.id)}))})})})]})})},L=()=>{const e=(0,a.d4)((e=>e.profile.sectionLnk));return(0,n.jsxs)("div",{className:"w-full lg:w-[55%] overflow-hidden rounded-2xl",children:["about"===e&&(0,n.jsx)(w,{}),"links"===e&&(0,n.jsx)(z,{})]})};var M=l(9520),F=l(9666);const U=()=>{const e=(0,a.d4)((e=>e.profile.profileViewData)),t=(0,a.d4)((e=>e.profile.platforms)),l=(0,a.d4)((e=>e.profile.themeColor)),r=(0,a.d4)((e=>e.profile.textColor)),[o,i]=(0,s.useState)("center");console.log(e,"userData");const[d,u]=(0,s.useState)({url:"",base64Str:""}),[m,x]=(0,s.useState)({url:"",base64Str:""});return(0,s.useEffect)((()=>{var t;i(null!==(t=null===e||void 0===e?void 0:e.work_position)&&void 0!==t?t:"center"),null!==e&&void 0!==e&&e.photo&&(null!==e&&void 0!==e&&e.photo.startsWith("data:image/")&&u((t=>({...t,base64Str:e.photo}))),null!==e&&void 0!==e&&e.photo.startsWith("uploads/")&&u((t=>({...t,url:e.photo})))),null!==e&&void 0!==e&&e.cover_photo&&(null!==e&&void 0!==e&&e.cover_photo.startsWith("data:image/")&&x((t=>({...t,base64Str:e.cover_photo}))),null!==e&&void 0!==e&&e.cover_photo.startsWith("uploads/")&&x((t=>({...t,url:e.cover_photo}))))}),[e]),(0,n.jsx)("div",{className:"space-y-4 h-full",children:(0,n.jsxs)("div",{className:"w-full rounded-t-3xl shadow-lg border",style:{background:l},children:[(0,n.jsxs)("div",{className:"h-32 relative",children:[(0,n.jsx)("div",{className:"w-full h-full rounded-t-3xl",children:null!==e&&void 0!==e&&e.cover_photo?(0,n.jsx)(n.Fragment,{children:null!==m&&void 0!==m&&m.base64Str?(0,n.jsx)("img",{src:null===e||void 0===e?void 0:e.cover_photo,className:"w-full h-full rounded-t-3xl object-cover",alt:"cover-pic"}):null!==m&&void 0!==m&&m.url?(0,n.jsx)("img",{src:`https://solvecard.net/public/storage/${m.url}`,className:"w-full h-full rounded-t-3xl object-cover",alt:"cover-pic"}):(0,n.jsx)("div",{className:"w-full h-full bg-gray-500 rounded-t-3xl"})}):(0,n.jsx)("div",{className:"w-full h-full bg-tertiary-gray-700 rounded-t-3xl"})}),(0,n.jsx)("div",{className:`absolute ${"left"===o?"left-4":"right"===o?"right-4":"left-1/2 -translate-x-1/2"} -bottom-1/2 w-[40%] aspect-square overflow-hidden rounded-full border-white border-4`,children:null!==e&&void 0!==e&&e.photo?(0,n.jsx)(n.Fragment,{children:d.base64Str?(0,n.jsx)("img",{src:e.photo,className:"rounded-full w-full h-full object-cover",alt:"profile"}):null!==d&&void 0!==d&&d.url?(0,n.jsx)("img",{src:`https://solvecard.net/public/storage/${d.url}`,className:"rounded-full w-full h-full object-cover",alt:"profile"}):(0,n.jsx)(F.k,{src:M.A})}):(0,n.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:(0,n.jsx)("img",{src:M.A,alt:"",className:"w-1/2"})})})]}),(0,n.jsxs)("div",{className:`w-full flex flex-col \n            ${"left"===o?"justify-start items-start text-left":"right"===o?"justify-end items-end text-right":"justify-center items-center text-center"}\n             mt-20 px-4`,children:[(0,n.jsx)("h3",{style:{color:r},children:null===e||void 0===e?void 0:e.name}),(0,n.jsx)("p",{style:{color:r},children:null===e||void 0===e?void 0:e.job_title}),(0,n.jsx)("p",{style:{color:r},children:null===e||void 0===e?void 0:e.company}),(0,n.jsx)("p",{style:{color:r},children:null===e||void 0===e?void 0:e.address}),(0,n.jsx)("p",{style:{color:r},className:"break-all mt-1",children:null===e||void 0===e?void 0:e.bio})]}),(0,n.jsx)("div",{className:"w-full flex justify-center items-center mt-4 px-4",children:(0,n.jsx)(c.$n,{style:{background:r,color:"white",borderColor:r},intent:"secondary",children:"Update",size:"md",roundness:"round",classes:"w-full"})}),(0,n.jsx)("div",{className:"left"===o?"w-full flex flex-col items-start text-left gap-2 px-4 my-4":"right"===o?"w-full flex flex-col items-end text-right gap-2 px-4 my-4":"w-full flex flex-wrap items-center justify-center gap-2 px-4 my-4",children:null===t||void 0===t?void 0:t.map(((e,t)=>{var l;return(0,n.jsxs)("div",{className:"left"===o?"w-full flex flex-row items-center justify-start gap-2":"right"===o?"w-full flex flex-row-reverse items-center justify-start gap-2":"flex flex-col items-center justify-center gap-2",style:{width:"center"===o?"calc(33.33% - 8px)":"100%"},children:[(0,n.jsx)("div",{style:{width:"center"===o?"100%":"80px"},children:(0,n.jsx)("img",{className:"w-full",src:`https://solvecard.net/public/storage/${e.icon}`,alt:e.title})}),(0,n.jsx)("p",{className:"font-inter text-base font-normal",style:{color:r},children:null!==(l=e.label)&&void 0!==l?l:e.title})]},t)}))})]})})};var $=l(5475);const B=()=>(0,n.jsx)("section",{className:"w-full lg:w-3/12 lg:col-span-2 justify-center overflow-y-auto",id:"profileView",children:(0,n.jsxs)("div",{className:"w-full flex-col gap-4 py-4 h-full",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-4 text-center mb-2",children:[(0,n.jsx)("div",{className:"text-start w-full",children:(0,n.jsx)("h1",{className:"font-inter font-bold text-xl",children:"Card live preview"})}),(0,n.jsxs)($.N_,{className:"font-normal text-md text-blue-400",to:"",children:["View Card ",(0,n.jsx)(r.LS3,{className:"font-extrabold text-base inline-block"})]})]}),(0,n.jsx)(U,{})]})}),E=()=>(0,n.jsxs)("section",{className:"w-full h-full lg:h-[calc(100vh-100px)] flex flex-col lg:flex-row gap-4 rounded-2xl bg-primary p-4",children:[(0,n.jsx)(d,{}),(0,n.jsx)(L,{}),(0,n.jsx)(B,{})]}),P=e=>{console.log("result",e);const t=(0,a.d4)((e=>e.profile.profileId)),l=(0,a.wA)();return(0,n.jsxs)("div",{className:"bg-primary  p-4 rounded-2xl relative flex flex-col justify-between "+(Number(t)===(null===e||void 0===e?void 0:e.id)?"border border-tertiary-green-50":""),children:[(0,n.jsx)("div",{className:"bg-tertiary-gray-700 rounded-t-2xl w-full h-32",children:e.cover_photo&&(0,n.jsx)("img",{src:`https://solvecard.net/public/storage/${e.cover_photo}`,className:"w-full h-32 rounded-t-2xl object-cover",alt:"cover_photo"})}),e.photo&&(0,n.jsx)("img",{src:`https://solvecard.net/public/storage/${e.photo}`,className:"size-20 rounded-full border border-secondary object-cover flex justify-center items-center z-40 absolute top-24 left-1/2 transform -translate-x-1/2",alt:"profile"}),!e.photo&&(0,n.jsx)("div",{className:"size-20 rounded-full border border-secondary bg-primary flex justify-center items-center z-40 absolute top-24 left-1/2 transform -translate-x-1/2",children:(0,n.jsx)(F.k,{src:M.A})}),(0,n.jsxs)("div",{className:"flex flex-col justify-center items-center gap-2 mt-12",children:[(0,n.jsx)("h3",{className:"font-inter font-semibold text-lg",children:null===e||void 0===e?void 0:e.name}),(0,n.jsx)("p",{className:"font-inter font-normal text-base",children:null===e||void 0===e?void 0:e.job_title}),(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)(c.$n,{type:"button",intent:"primary",size:"md",children:"Share",classes:""}),(0,n.jsx)(j.A,{intent:"secondary",size:"md",content:"Edit",classes:"gap-2",iconLeft:y.A,href:`/profile/${null===e||void 0===e?void 0:e.id}`,eventAction:()=>{return t=e,l((0,i.kx)("about")),l((0,i.cp)(t)),void l((0,i.Ok)(t.platforms));var t}})]})]})]},null===e||void 0===e?void 0:e.id)};var R=l(423);const D=()=>(0,n.jsxs)("div",{className:"bg-primary  p-4 rounded-2xl relative flex flex-col gap-2 justify-center items-center",children:[(0,n.jsx)("div",{className:"bg-gradient-to-t from-tertiary-green-60 to-tertiary-green-70 size-16 rounded-full flex justify-center items-center",children:(0,n.jsx)(R.t50,{className:"size-8"})}),(0,n.jsx)("p",{className:"font-inter font-medium text-lg text-center",children:"New Card"})]})},5313:(e,t,l)=>{l.d(t,{i:()=>s});const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg";const l=atob(e.split(",")[1]),s=new ArrayBuffer(l.length),r=new Uint8Array(s);for(let o=0;o<l.length;o++)r[o]=l.charCodeAt(o);return new Blob([r],{type:t})}}}]);
//# sourceMappingURL=816.aab9db9c.chunk.js.map