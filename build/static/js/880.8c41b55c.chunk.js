"use strict";(self.webpackChunksolve_card=self.webpackChunksolve_card||[]).push([[880],{880:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var l=t(5043),a=t(4219),r=t(7950),i=t(4920),o=t(4858),n=t(3401),d=t(1641),c=t(5313),m=t(3003),h=t(579);const u=e=>{let{closeModal:s,handleChange:t}=e;const u=(0,m.d4)((e=>e.profile.profileId)),[p,x]=(0,l.useState)(""),[g,f]=(0,l.useState)(!1),{register:b,handleSubmit:v,formState:{errors:j}}=(0,o.mN)();return r.createPortal((0,h.jsx)("div",{id:"authentication-modal",tabIndex:"-1","aria-hidden":"false",className:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 flex justify-center items-center w-full h-full bg-black bg-opacity-50",children:(0,h.jsxs)("div",{className:"relative p-4 w-full max-w-lg max-h-full",children:[" ",(0,h.jsxs)("div",{className:"relative bg-white rounded-lg shadow",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t",children:[(0,h.jsx)("h3",{className:"text-xl font-semibold text-gray-900 ",children:"Add Contact"}),(0,h.jsxs)("button",{type:"button",onClick:s,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center ",children:[(0,h.jsx)("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:(0,h.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),(0,h.jsx)("span",{className:"sr-only",children:"Close modal"})]})]}),(0,h.jsx)("div",{className:"p-4 md:p-5",children:(0,h.jsxs)("form",{className:"space-y-4",onSubmit:v((async e=>{let l=(0,c.i)(p);f(!0);const a={first_name:e.first_name,last_name:e.last_name,phone:null===e||void 0===e?void 0:e.phone,website:null===e||void 0===e?void 0:e.webiste,email:null===e||void 0===e?void 0:e.email,photo:l,profile_id:u};try{const e=await i.A.post("/addPhoneContact",a);200===e.status&&(n.oR.success(e.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),t(),s())}catch(r){f(!1),n.oR.error(r.response.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}})),encType:"multipart/form-data",children:[(0,h.jsxs)("div",{className:"flex space-x-4",children:[(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsx)("label",{htmlFor:"first-name",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"First Name"}),(0,h.jsx)(a.pd,{type:"text",nameField:"first_name",intent:"primary",id:"first-name",size:"md",classes:"w-full block p-2.5 ",roundness:"round-sm",placeholder:"first name",register:b})]}),(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsx)("label",{htmlFor:"last-name",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Last Name"}),(0,h.jsx)(a.pd,{type:"text",nameField:"last_name",intent:"primary",id:"last-name",size:"md",classes:"w-full block p-2.5 ",roundness:"round-sm",placeholder:"Last Name",register:b})]})]}),(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsx)("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Your Email"}),(0,h.jsx)(a.pd,{type:"email",nameField:"email",intent:"primary",id:"email",size:"md",classes:"w-full block p-2.5 ",roundness:"round-sm",placeholder:"Email",register:b})]}),(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsx)("label",{htmlFor:"phone",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Phone"}),(0,h.jsx)(a.pd,{type:"tel",nameField:"phone",intent:"primary",id:"phone",size:"md",classes:"w-full block p-2.5 ",roundness:"round-sm",placeholder:"phone",maxLength:"11",minLength:"10",register:b})]}),(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsx)("label",{htmlFor:"website",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Website"}),(0,h.jsx)(a.pd,{type:"text",nameField:"website",intent:"primary",id:"website",size:"md",classes:"w-full block p-2.5 ",roundness:"round-sm",placeholder:"Add website link",register:b})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{htmlFor:"profile-pic",className:"block mb-2 text-center text-sm font-medium text-gray-900 ",children:"Profile Picture"}),(0,h.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,h.jsx)("label",{htmlFor:"profile-pic",className:"cursor-pointer",children:(0,h.jsx)("div",{className:"relative w-16 h-16 overflow-hidden bg-gray-200 rounded-full",children:p?(0,h.jsx)("img",{src:p,alt:"Profile",className:"object-cover w-full h-full"}):(0,h.jsx)("span",{className:"flex items-center justify-center w-full h-full text-gray-400",children:"+"})})}),(0,h.jsx)("input",{type:"file",id:"profile-pic",accept:"image/*",onChange:async e=>{const s=e.target.files[0];if(s){if(s.size>4194304)return void n.oR.error("picture size must be less than 6MB.",{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});try{const e={maxSizeMB:6,useWebWorker:!0},t=await(0,d.A)(s,e),l=new FileReader;l.onloadend=()=>{x(l.result)},l.readAsDataURL(t)}catch(t){console.log(t)}}},className:"hidden"})]})]}),(0,h.jsx)(a.$n,{intent:"primary",size:"lg",children:"Add",classes:"w-full !p-2",roundness:"round",loading:g})]})})]})]})}),document.body)};var p=t(6720);const x=e=>{let{closeModal:s,editData:t,handleChange:u}=e;const x=(0,m.d4)((e=>e.profile.profileId)),[g,f]=(0,l.useState)(""),[b,v]=(0,l.useState)({pic:""}),[j,y]=(0,l.useState)(!1),w=(0,l.useRef)(),{register:N,handleSubmit:k,formState:{errors:C},reset:S}=(0,o.mN)();(0,l.useEffect)((()=>{t&&(S({first_name:t.data.first_name?t.data.first_name:"",last_name:t.data.last_name?t.data.last_name:"",email:t.data.email?t.data.email:"",phone:t.data.phone?t.data.phone:"",website:t.data.website?t.data.website:""}),v((e=>{var s;return{...e,pic:null===t||void 0===t||null===(s=t.data)||void 0===s?void 0:s.photo}})))}),[t,S]);return r.createPortal((0,h.jsx)("div",{id:"authentication-modal",tabIndex:"-1","aria-hidden":"false",className:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 flex justify-center items-center w-full h-full bg-black bg-opacity-50",children:(0,h.jsxs)("div",{className:"relative p-4 w-full max-w-lg max-h-full",children:[" ",(0,h.jsxs)("div",{className:"relative bg-white rounded-lg shadow",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t",children:[(0,h.jsx)("h3",{className:"text-xl font-semibold text-gray-900 ",children:"Edit Contact"}),(0,h.jsxs)("button",{type:"button",onClick:s,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center ",children:[(0,h.jsx)("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:(0,h.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),(0,h.jsx)("span",{className:"sr-only",children:"Close modal"})]})]}),(0,h.jsx)("div",{className:"p-4 md:p-5",children:(0,h.jsxs)("form",{className:"space-y-4",onSubmit:k((async e=>{let l=(0,c.i)(g);y(!0);try{const a={first_name:e.first_name,last_name:e.last_name,phone:null===e||void 0===e?void 0:e.phone,website:null===e||void 0===e?void 0:e.webiste,email:null===e||void 0===e?void 0:e.email,photo:l,profile_id:x,contact_id:t.data.id},r=await i.A.post("/updatePhoneContact",a);200===r.status&&(n.oR.success(r.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),u(),s())}catch(a){y(!1),n.oR.error(a.response.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}})),encType:"multipart/form-data",children:[(0,h.jsxs)("div",{className:"flex space-x-4",children:[(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsx)("label",{htmlFor:"first-name",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"First Name"}),(0,h.jsx)(a.pd,{type:"text",nameField:"first_name",intent:"primary",id:"first-name",size:"md",classes:"w-full block p-2.5 ",roundness:"round-sm",placeholder:"first name",register:N})]}),(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsx)("label",{htmlFor:"last-name",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Last Name"}),(0,h.jsx)(a.pd,{type:"text",nameField:"last_name",intent:"primary",id:"last-name",size:"md",classes:"w-full block p-2.5 ",roundness:"round-sm",placeholder:"Last Name",register:N})]})]}),(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsx)("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Your Email"}),(0,h.jsx)(a.pd,{type:"email",nameField:"email",intent:"primary",id:"email",size:"md",classes:"w-full block p-2.5 ",roundness:"round-sm",placeholder:"Email",register:N})]}),(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsx)("label",{htmlFor:"phone",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Phone"}),(0,h.jsx)(a.pd,{type:"tel",nameField:"phone",intent:"primary",id:"phone",size:"md",classes:"w-full block p-2.5 ",roundness:"round-sm",placeholder:"phone",maxLength:"11",minLength:"10",register:N})]}),(0,h.jsxs)("div",{className:"w-full",children:[(0,h.jsx)("label",{htmlFor:"website",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Website"}),(0,h.jsx)(a.pd,{type:"text",nameField:"website",intent:"primary",id:"website",size:"md",classes:"w-full block p-2.5 ",roundness:"round-sm",placeholder:"Add website link",register:N})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block mb-2 text-center text-sm font-medium text-gray-900 ",children:"Profile Picture"}),(0,h.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,h.jsx)("label",{htmlFor:"",className:"",children:(0,h.jsxs)("div",{className:"relative w-16 h-16 overflow-hidden bg-gray-200 rounded-full",children:[b.pic&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("img",{src:`https://solvecard.net/public/storage/${b.pic}`,alt:"Profile",className:"object-cover w-full h-full"}),(0,h.jsx)(p.uDv,{onClick:()=>{v((e=>({...e,pic:""}))),w.current.value=null},className:"absolute top-3 right-2 cursor-pointer text-black"})]}),g&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("img",{src:g,alt:"Profile",className:"object-cover w-full h-full"}),(0,h.jsx)(p.uDv,{onClick:()=>{f(""),w.current.value=null},className:"absolute top-3 right-2 cursor-pointer text-black"})]}),!g&&!b.pic&&(0,h.jsx)("span",{onClick:()=>{w.current.click()},className:"flex items-center justify-center w-full h-full text-gray-400",children:"+"})]})}),(0,h.jsx)("input",{type:"file",ref:w,id:"profile-pic",accept:".jpg, .jpeg, .png",onChange:async e=>{const s=e.target.files[0];if(s){if(s.size>4194304)return void n.oR.error("picture size must be less than 6MB.",{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});try{const e={maxSizeMB:6,useWebWorker:!0},t=await(0,d.A)(s,e),l=new FileReader;l.onloadend=()=>{f(l.result)},l.readAsDataURL(t)}catch(t){console.log(t)}}},className:"hidden"})]})]}),(0,h.jsx)(a.$n,{intent:"primary",size:"lg",children:"Add",classes:"w-full !p-2",roundness:"round",loading:j})]})})]})]})}),document.body)},g=()=>{const e=(0,m.d4)((e=>e.profile.profileId)),[s,t]=(0,l.useState)(!1),[r,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)([]),[p,g]=(0,l.useState)(!1),[f,b]=(0,l.useState)(!1),[v,j]=(0,l.useState)({action:"edit",data:null});(0,l.useEffect)((()=>{!async function(){try{b(!0);const s=await i.A.post("/phoneContacts",{profile_id:e});200===s.status&&(c(s.data.contacts),b(!1))}catch(s){b(!1),n.oR.error(s.response.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}}()}),[p]);const y=()=>{g(!p)};return(0,h.jsx)("div",{className:"w-full min-h-[150px] bg-primary rounded-2xl p-6 mb-20",children:(0,h.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,h.jsxs)("div",{className:"w-full h-16  rounded-xl flex justify-between items-center",children:[(0,h.jsx)("h1",{className:"font-inter font-bold text-2xl",children:"Contacts"}),(0,h.jsx)(a.$n,{intent:"primary",size:"lg",children:"Add Contact",roundness:"round",classes:"",type:"button",eventAction:()=>{t(!s)}}),s&&(0,h.jsx)(u,{handleChange:y,closeModal:()=>{t(!s)}}),r&&(0,h.jsx)(x,{editData:v,handleChange:y,closeModal:()=>{o(!r)}})]}),(0,h.jsx)("div",{className:"w-full min-h-[150px]  bg-white rounded-xl",children:(0,h.jsx)("div",{className:"w-full h-full  overflow-auto p-3",children:(0,h.jsxs)("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500",children:[(0,h.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{scope:"col",className:"px-6 py-3",children:"User"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Email"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Phone"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),(0,h.jsx)("tbody",{children:f?(0,h.jsx)("tr",{className:"bg-white border-b",children:(0,h.jsx)("td",{colSpan:4,className:"py-3 text-center text-gray-500",children:"Loading...."})}):(0,h.jsx)(h.Fragment,{children:0===d.length?(0,h.jsx)("tr",{className:"bg-white border-b",children:(0,h.jsx)("td",{colSpan:4,className:"py-3 text-center text-gray-500",children:"No Contacts"})}):(0,h.jsx)(h.Fragment,{children:null===d||void 0===d?void 0:d.map((s=>(0,h.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,h.jsxs)("td",{className:"flex items-center px-6 py-4 text-gray-900 whitespace-nowrap",children:[(0,h.jsx)("img",{className:"w-10 h-10 rounded-full",src:`https://solvecard.net/public/storage/${s.photo}`,alt:"phot"}),(0,h.jsx)("div",{className:"ps-3",children:(0,h.jsxs)("div",{className:"text-base font-semibold",children:[null===s||void 0===s?void 0:s.first_name," ",null===s||void 0===s?void 0:s.last_name]})})]}),(0,h.jsx)("td",{className:"px-6 py-4",children:s.email}),(0,h.jsx)("td",{className:"px-6 py-4",children:null===s||void 0===s?void 0:s.phone}),(0,h.jsxs)("td",{className:"px-6 py-4",children:[(0,h.jsx)("p",{onClick:()=>{return e=s,o(!0),void j((s=>({...s,data:e})));var e},className:"font-medium cursor-pointer text-blue-600 hover:underline",children:"Edit"}),(0,h.jsx)("p",{onClick:()=>(async s=>{try{const t=await i.A.post("/removeContact",{contact_id:s,profile_id:e});200===t.status&&n.oR.success(t.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),g(!p)}catch(t){n.oR.error(t.response.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}})(s.id),className:"font-medium cursor-pointer text-blue-600 hover:underline",children:"Delete"})]})]},s.id)))})})})]})})})]})})},f=e=>{let{grpData:s,closeModal:t,handleChange:d}=e;const c=(0,m.d4)((e=>e.profile.profileId)),{register:u,handleSubmit:p,formState:{errors:x},reset:g}=(0,o.mN)(),[f,b]=(0,l.useState)(!1);(0,l.useEffect)((()=>{var e;s&&g({title:null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.title})}),[s,g]);return r.createPortal((0,h.jsx)("div",{id:"authentication-modal",tabIndex:"-1","aria-hidden":"false",className:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 flex justify-center items-center w-full h-full bg-black bg-opacity-50",children:(0,h.jsx)("div",{className:"relative p-4 w-full max-w-lg max-h-full",children:(0,h.jsxs)("div",{className:"relative bg-white rounded-lg shadow ",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t ",children:[(0,h.jsx)("h3",{className:"text-xl font-semibold text-gray-900 ",children:"Add Group"}),(0,h.jsxs)("button",{type:"button",onClick:t,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center",children:[(0,h.jsx)("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:(0,h.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),(0,h.jsx)("span",{className:"sr-only",children:"Close modal"})]})]}),(0,h.jsx)("div",{className:"p-4 md:p-5",children:(0,h.jsxs)("form",{className:"space-y-4",onSubmit:p((async e=>{try{let a;var l;if(b(!0),null!==s&&void 0!==s&&s.isEdit)a=await i.A.post("/updateGroup",{title:e.title,group_id:null===s||void 0===s||null===(l=s.data)||void 0===l?void 0:l.id,profile_id:c,active:"1"});else a=await i.A.post("/addGroup",{title:e.title,profile_id:c});200===a.status&&(n.oR.success(a.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),d(),t())}catch(a){b(!1),console.error(a),n.oR.error(a.response.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}})),children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{htmlFor:"group-name",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Group Title"}),(0,h.jsx)(a.pd,{type:"text",nameField:"title",intent:"primary",size:"md",placeholder:"Enter Group Name",roundness:"round-sm",classes:"w-full p-2.5",register:u})]}),(0,h.jsx)(a.$n,{type:"submit",intent:"primary",size:"lg",children:"Add",classes:"w-full !p-2",roundness:"round",loading:f})]})})]})})}),document.body)},b=e=>{let{grpData:s,closeModal:t,handleChange:d}=e;const c=(0,m.d4)((e=>e.profile.profileId)),[u,p]=(0,l.useState)([]),{register:x,handleSubmit:g,formState:{errors:f},reset:b}=(0,o.mN)(),[v,j]=(0,l.useState)(!1),[y,w]=(0,l.useState)(null),[N,k]=(0,l.useState)(!1);(0,l.useEffect)((()=>{s&&b({title:null===s||void 0===s?void 0:s.title})}),[s,b]);return(0,l.useEffect)((()=>{!async function(){try{const e=await i.A.post("/phoneContacts",{profile_id:c});p(e.data.contacts)}catch(e){n.oR.error(e.response.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}}()}),[]),r.createPortal((0,h.jsx)("div",{id:"authentication-modal",tabIndex:"-1","aria-hidden":"false",className:"overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 flex justify-center items-center w-full h-full bg-black bg-opacity-50",children:(0,h.jsx)("div",{className:"relative p-4 w-full max-w-lg max-h-full",children:(0,h.jsxs)("div",{className:"relative bg-white rounded-lg shadow ",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t ",children:[(0,h.jsx)("h3",{className:"text-xl font-semibold text-gray-900 ",children:"Add Group"}),(0,h.jsxs)("button",{type:"button",onClick:t,className:"text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 inline-flex justify-center items-center",children:[(0,h.jsx)("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:(0,h.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),(0,h.jsx)("span",{className:"sr-only",children:"Close modal"})]})]}),(0,h.jsx)("div",{className:"p-4 md:p-5",children:(0,h.jsxs)("form",{className:"space-y-4",onSubmit:g((async e=>{try{j(!0);const e=await i.A.post("/addContactIntoGroup",{contact_id:null===y||void 0===y?void 0:y.id,group_id:null===s||void 0===s?void 0:s.id,profile_id:c});200===e.status&&(n.oR.success(e.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),d(),t())}catch(l){j(!1),console.error(l),n.oR.error(l.response.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}})),children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{htmlFor:"group-name",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Group Title"}),(0,h.jsx)(a.pd,{type:"text",nameField:"title",intent:"primary",size:"md",placeholder:"Enter Group Name",roundness:"round-sm",classes:"w-full p-2.5",register:x,readOnly:!0})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{htmlFor:"select-contact",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Select Contact"}),(0,h.jsxs)("div",{className:"custom-dropdown relative",children:[(0,h.jsx)("div",{className:"selected-option rounded-xl bg-primary border p-2 text-black cursor-pointer",onClick:()=>k(!N),children:y?(0,h.jsxs)("div",{className:"flex flex-row gap-3 items-center",children:[(0,h.jsx)("img",{src:`https://solvecard.net/public/storage/${y.photo}`,className:"rounded-full w-8 h-8 object-cover",alt:""}),(0,h.jsxs)("p",{children:[" ",y.first_name]})]}):"Select a contact"}),N&&(0,h.jsx)("div",{className:"dropdown-options absolute w-full bg-white rounded-xl border shadow-lg mt-1",children:null===u||void 0===u?void 0:u.map((e=>(0,h.jsxs)("div",{className:"dropdown-option flex items-center p-2 cursor-pointer hover:bg-gray-200 hover:rounded-xl",onClick:()=>(w(e),void k(!1)),children:[(0,h.jsx)("img",{src:`https://solvecard.net/public/storage/${e.photo}`,className:"rounded-full w-8 h-8 mr-2 object-cover",alt:e.first_name}),(0,h.jsx)("span",{children:e.first_name})]},e.id)))})]})]}),(0,h.jsx)(a.$n,{type:"submit",intent:"primary",size:"lg",children:"Add",classes:"w-full !p-2",roundness:"round",loading:v})]})})]})})}),document.body)},v=()=>{const e=(0,m.d4)((e=>e.profile.profileId)),[s,t]=(0,l.useState)(!1),[r,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)([]),[u,p]=(0,l.useState)({isEdit:!1,isAdd:!1,data:""}),[x,g]=(0,l.useState)({data:""}),[v,j]=(0,l.useState)(!1),[y,w]=(0,l.useState)(!1);(0,l.useEffect)((()=>{!async function(){j(!0);try{const s=await i.A.post("/groups",{profile_id:e});200===s.status&&(c(s.data.groups),j(!1))}catch(s){j(!0),console.error(null===s||void 0===s?void 0:s.response),n.oR.error(s.response.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}}()}),[y]);const N=()=>{w(!y)};return(0,h.jsx)("div",{className:"w-full min-h-[150px] bg-primary rounded-2xl p-6 mb-20",children:(0,h.jsxs)("div",{className:"flex flex-col gap-4 w-full",children:[(0,h.jsxs)("div",{className:"w-full h-16  rounded-xl flex justify-between items-center",children:[(0,h.jsx)("h1",{className:"font-inter font-bold text-2xl",children:"Groups"}),(0,h.jsx)(a.$n,{intent:"primary",size:"lg",children:"Add Group",roundness:"round",classes:"",type:"button",eventAction:()=>{t(!s),p((e=>({...e,isAdd:!0})))}}),s&&(0,h.jsx)(f,{handleChange:N,grpData:u,closeModal:()=>{t(!s)}}),r&&(0,h.jsx)(b,{handleChange:N,grpData:x,closeModal:()=>{o(!r)}})]}),(0,h.jsx)("div",{className:"w-full min-h-[130px]  bg-white rounded-xl",children:(0,h.jsx)("div",{className:"w-full h-full  overflow-auto p-3",children:(0,h.jsxs)("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500",children:[(0,h.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Title"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Total Contacts"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Total Numbers"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),(0,h.jsx)("tbody",{children:v?(0,h.jsx)("tr",{className:"bg-white border-b",children:(0,h.jsx)("td",{colSpan:4,className:"py-3 text-center text-gray-500",children:"Loading...."})}):(0,h.jsx)(h.Fragment,{children:0===d.length?(0,h.jsx)("tr",{className:"bg-white border-b",children:(0,h.jsx)("td",{colSpan:4,className:"py-3 text-center text-gray-500",children:"No Group Record"})}):(0,h.jsx)(h.Fragment,{children:null===d||void 0===d?void 0:d.map((s=>(0,h.jsxs)("tr",{className:"bg-white border-b hover:bg-gray-50",children:[(0,h.jsx)("td",{className:"px-6 py-4",children:s.title}),(0,h.jsx)("td",{className:"px-6 py-4",children:(0,h.jsx)("div",{className:"bg-secondary px-4 py-1 rounded-full w-max text-white",children:s.total_contacts})}),(0,h.jsx)("td",{className:"px-6 py-4",children:(0,h.jsx)("div",{className:"bg-secondary px-4 py-1 rounded-full w-max text-white",children:s.total_members})}),(0,h.jsxs)("td",{className:"px-6 py-4",children:[(0,h.jsx)("div",{onClick:()=>{return e=s,l=!0,t(!0),void p((s=>({...s,data:e,isEdit:l,isAdd:!1})));var e,l},className:"font-medium text-blue-600 cursor-pointer hover:underline",children:"Edit Group"}),(0,h.jsx)("div",{onClick:()=>async function(s){try{const t=await i.A.post("/removeGroup",{group_id:s,profile_id:e});200===t.status&&(n.oR.success(t.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),N())}catch(t){n.oR.error(t.response.data.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}}(s.id),className:"font-medium text-blue-600 cursor-pointer hover:underline",children:"Delete Group"}),(0,h.jsx)("div",{onClick:()=>{return e=s,o(!0),void g(e);var e},className:"font-medium text-blue-600 cursor-pointer hover:underline",children:"Add Contact"})]})]},s.id)))})})})]})})})]})})},j=()=>(0,h.jsxs)("section",{className:"",children:[(0,h.jsx)(g,{}),(0,h.jsx)(v,{})]})},5313:(e,s,t)=>{t.d(s,{i:()=>l});const l=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg";const t=atob(e.split(",")[1]),l=new ArrayBuffer(t.length),a=new Uint8Array(l);for(let r=0;r<t.length;r++)a[r]=t.charCodeAt(r);return new Blob([a],{type:s})}}}]);
//# sourceMappingURL=880.8c41b55c.chunk.js.map